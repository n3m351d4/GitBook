# НИР Обзор программируемых радиоприемников

  


### Введение

В работе будут рассмотрены шесть интегральных микросхем \(далее – ИМС\), представляющих собой полнофункциональные радиоприемники, их структура, а также принципы работы.

Рассматриваемые приемники относятся к архитектуре с низкой ПЧ \(промежуточной частотой, Low IF\). Такие приемники, как и супергетеродинные, детектируют принимаемый сигнал после его преобразования в ПЧ. За счёт низкой ПЧ достигается защита постоянной составляющей от смещения.  
 Смещение постоянной составляющей сигнала является основным недостатком приемников прямого преобразования. К достоинствам приемников такого типа относят возможность устранения высокодобротных высокочастотных \(ВЧ\) фильтров.

Архитектура отличается переносом ВЧ сигналов на низкую промежуточную частоту \(порядка сотни кГц\), что позволяет применять в приемнике низкодобротный фильтр низких частот \(ФНЧ\) выбора рабочего канала. С помощью аналого-цифрового преобразователя \(АЦП\) с высоким разрешением можно непосредственно преобразовать сигнал ПЧ в модулирующий сигнал, который затем подвергнуть базовой обработке сигнальным процессором.

![&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 1 &#x2013; &#x421;&#x442;&#x440;&#x443;&#x43A;&#x442;&#x443;&#x440;&#x43D;&#x430;&#x44F; &#x441;&#x445;&#x435;&#x43C;&#x430; &#x43F;&#x440;&#x438;&#x435;&#x43C;&#x43D;&#x438;&#x43A;&#x430; &#x441; &#x43D;&#x438;&#x437;&#x43A;&#x43E;&#x439; &#x41F;&#x427;](../../.gitbook/assets/image%20%2853%29.png)

  
Наиболее распространенной архитектурой ИМС-радиоприемников является архитектура КМОП \(с комплементарной структурой металл-оксид-полупроводник\). Рассмотрим на примерах различных ИМС радиоприемников с низкой ПЧ их характеристики и структурные схемы.

Во всех рассматриваемых приемниках реализована **квадратурная обработка сигналов**.

Обработка в квадратурных каналах – является эффективным способом преобразования сигналов в функциональных узлах радиочастотного \(РЧ\) блока, т.е. при использовании квадратурных опорных сигналов со сдвигом 90 градусов, что эквивалентно представлению сигнала в комплексной форме. На рис. 2\(слева-направо\) приведены 4 основных компонента современной радиостанции:

— Звук в формате «моно» \(L+R\) – некоторые приемники переходят в этот режим автоматически при ухудшении качества принимаемого сигнала.

— Пилот-тон 19 КГц – используется для декодирования стерео-сигнала, для чего частота пилот-тона умножается на 2, и относительно полученной частоты 38 КГц разделяются стерео-каналы.

— Стерео звук – второй канал \(L-R\), находящийся на картинке симметрично относительно 38КГц.

— Канал RDS – передается на 3-й гармонике пилот-тона, его частота составляет соответственно 19\*3 = 57 КГц.

  


![&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 2 &#x2013; &#x421;&#x43F;&#x435;&#x43A;&#x442;&#x440; &#x441;&#x43E;&#x432;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x43D;&#x43E;&#x439; &#x440;&#x430;&#x434;&#x438;&#x43E;&#x441;&#x442;&#x430;&#x43D;&#x446;&#x438;&#x438;](../../.gitbook/assets/image%20%2860%29.png)

  


### 1 Функциональные блоки, применяемые в радиоприемных устройствах с низкой ПЧ

Цифровой радиоприёмник можно реализовать разными способами, но некоторые компоненты в нём присутствуют всегда. Приёмник должен выделять полезный ВЧ сигнал в присутствии возможных помех, для чего используются следующие функциональные элементы:

· **Антенна** - интерфейс между каналом связи \(свободным пространством\) и входными цепями приёмника.

· **Фильтр предварительной селекции** - первый компонент приёмника, который подавляет принимаемые антенной внеполосные сигналы.

· **Малошумящий усилитель \(МШУ\)** – усиливает сигнал до требуемого уровня, добавляя к нему некоторый минимальный шум.

· **Усилитель мощности сигнала** - повышает уровень мощности сигнала; используется для усиления сигнала до максимального значения, при котором сохраняется линейность на выходе.

· **Смеситель –** понижает частоту ВЧ сигнала до промежуточной частоты \(ПЧ\), смешивая ВЧ сигнал с сигналом **гетеродина \(LO\)**. При смешении двух сигналов смеситель генерирует верхнюю и нижнюю боковые полосы \(т.е. сумму и разность входных частот\).

· **Фильтр ПЧ** – подавляет возникающие в смесителе нежелательные частотные составляющие и сигналы соседних частотных каналов.

После фильтра ПЧ в конструкции приёмника возможны вариации из следующих блоков:

· **Система** **АПЧ** –представляет собой генератор, управляемый напряжением \(**ГУН**\) и частотный дискриминатор, в качестве которого обычно используется фазовый детектор \(**ФД**\) и источник опорного сигнала \(**ОГ** – опорный генератор\).

· **Стереодекодер** – ФМ-сигнал на выходе регулируемого усилителя сначала демодулируется в стереоплексированный сигнал \(L+R и L-R\), а затем разделяется на левый и правый сигналы.

· **Коррекция предыскажений** – ослабление высокочастотных составляющих сигнала \(обратная коррекция\), усиленных на передающий стороне для повышения качества сигнала. Во время передачи ФМ-сигнала, для акцентирования высоких звуковых частот применяется фильтр предварительной коррекции \(предварительного усиления\). Все ФМ-приемники оснащаются фильтрам коррекции предыскажений, который ослабляет высокие частоты для восстановления плоской частотной характеристики. В разных регионах используются две постоянные времени – 50 или 75 мкс.

· **2- и 3-проводный интерфейсы** могут быть использованы для считывания и записи управляющих регистров.

· **Декодер** **RDS** **и** **RBDS** – блок цифровой обработки для декодирования, синхронизации, обнаружения и исправление ошибок, в данных принимаемых от радиостанции. Стандарт RDS используется в Европе, RBDS – в США.

· **Стабилизатор** с малым падением напряжения \(LDO, low dropout\) – стабилизатор напряжения, который позволяет использовать микросхему в портативных устройствах с автономными элементами питания и защищающий схему от «просадок» напряжения, при их разряде.

Основой узла, предназначенного для квадратурной обработки сигналов, является цепь, содержащая два перемножителя сигналов, в синфазном I \(In-phase\) и квадратурном Q \(Quadrature\) каналах \(рис. 3\). Подачу сигнала \(опорного или же входного\) на квадратурные каналы необходимо производить с помощью фазовращателя на 90 градусов.

![&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 3 &#x2013; &#x426;&#x435;&#x43F;&#x44C; &#x43A;&#x432;&#x430;&#x434;&#x440;&#x430;&#x442;&#x443;&#x440;&#x43D;&#x43E;&#x439; &#x43E;&#x431;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438; &#x441;&#x438;&#x433;&#x43D;&#x430;&#x43B;&#x43E;&#x432;](../../.gitbook/assets/image%20%2852%29.png)

  
В зависимости от конкретной топологии, т.е. способа соединения блоков, подачи сигналов, видов сигналов и применения, I/Q цепи могут иметь различные функциональные назначения и названия: Для обработки сигналов с большинством видов фазовой и частотной модуляции в квадратурных каналах приемного тракта необходимо осуществлять фазовый сдвиг на 90 градусов в тракте гетеродина или сигнала \(рис. 4\).

![&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 4 &#x2013; &#x41A;&#x432;&#x430;&#x434;&#x440;&#x430;&#x442;&#x443;&#x440;&#x43D;&#x44B;&#x439; &#x441;&#x434;&#x432;&#x438;&#x433; &#x432; &#x442;&#x440;&#x430;&#x43A;&#x442;&#x435; &#x433;&#x435;&#x442;&#x435;&#x440;&#x43E;&#x434;&#x438;&#x43D;&#x430; \(&#x430;\) &#x438; &#x441;&#x438;&#x433;&#x43D;&#x430;&#x43B;&#x430; \(&#x431;\)](../../.gitbook/assets/image%20%2857%29.png)

Поскольку сдвиг по фазе принимаемого РЧ сигнала может привести к его искажению и увеличению уровня шума, желательно формировать сдвиг в тракте сигнала гетеродина, где сигнал имеет постоянные параметры \(рис. 4а\). В любом случае, ошибки в точности сдвига фаз по каналам и несоответствие амплитуд сигналов I и Q \(I/Q Mismatch\) нарушает при преобразовании вниз канонический вид принимаемого сигнального созвездия \(signal constellation\), тем самым, увеличивая коэффициент битовых ошибок. Все элементы схемы в I и Q каналах могут вносить вклад в погрешность амплитуды \(коэффициента усиления\) и фазы.

Широкое распространение в таких структурах получают устройства активного подавления нежелательных \(зеркальных\) компонент \(Image Rejecting\), в частности - смесители с квадратурными каналами. Использование таких смесителей позволяет решить классическую проблему фильтрации - подавление нежелательных компонент без использования на выходах смесителя громоздких фильтров, о чем более подробно будет рассказано далее.

За удобство обработки сигнала приходится платить усложнением аппаратурной реализации узлов, так как в РЧ блоке происходит увеличение каналов обработки вдвое – появляются отдельные каналы для I и Q сигналов. Кроме того, эти каналы должны обладать высокой идентичностью амплитудных и фазовых характеристик в диапазоне рабочих частот.

Как правило, для получения опорных сигналов квадратурных каналов в качестве фазовращающего узла используется делитель частоты на два. Этот метод формирования опорных сигналов получил широкое распространение, так как он наиболее прост, работает в широком диапазоне изменения частот.

**Обработка звука.** Мультиплексированный сигнал после ФМ демодуляции состоит из сигнала левого и правого каналов, несущая частота вычисляется следующим образом:

![](../../.gitbook/assets/image%20%2856%29.png)

где функции L \(t\) и R \(t\) - звуковые сигналы на левом и правом каналах,

f = 19 кГц,

θ - начальная фаза несущей частоты,

α - величина несущей частоты.

В режиме **стерео** - каналы L и R восстанавливаются и разделяются с помощью демультиплексора. В **монофоническом** режиме обрабатывается суммарный аудиосигнал L + R.

### 2 Обзор микросхем программируемых радиоприемников.

**2.1 AR1000/AR1010** – микросхема фирмы AIROHA – стерео ФМ-приемник поддерживающий ФМ в диапазоне от 76 до 108 МГц \(Европа/США/Япония\).

![&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 2.1 - &#x441;&#x442;&#x440;&#x443;&#x43A;&#x442;&#x443;&#x440;&#x43D;&#x430;&#x44F; &#x441;&#x445;&#x435;&#x43C;&#x430; AR1000](../../.gitbook/assets/image%20%2850%29.png)

Опорный генератор является встроенным, поэтому для работы радиоприемника потребуется только внешний источник сигнала 32,768 кГц. Переход к ПЧ осуществляется с помощью **квадратурного гетеродина**. Основные функции блока обработки ФМ сигналов это ФМ-демодуляция и стереодекодирование. Декодированные стереосигналы выводятся на контакты LOUT и ROUT. Уровень звука можно отрегулировать либо отключить, посылая соответствующую команду через последовательный интерфейс. Стерео обработка сигнала может быть отключена для вывода моносигнала, в случаях, если принимаемый сигнал - слабый.

**2.2** **QN8075** – микросхема фирмы Quintic – стереофонический ФМ-приемник, предназначенный для мини-динамиков и MP3-плееров. Он объединяет функции приема FM, автоматический поиск и фильтрацию каналов.

![&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 2.2 &#x2013; &#x441;&#x442;&#x440;&#x443;&#x43A;&#x442;&#x443;&#x440;&#x43D;&#x430;&#x44F; &#x441;&#x445;&#x435;&#x43C;&#x430; QN8075](../../.gitbook/assets/image%20%2861%29.png)

QN8075 имеет интегрированный опорный генератор \(для его работы требуется кварц на 32.768 КГц\), генератор тонального сигнала 1 КГц.

Полученный радиочастотный сигнал усиливается с помощью МШУ, а затем преобразуется в ПЧ с помощью квадратурного смесителя. Чтобы улучшить подавление зеркального канала, квадратурный смеситель можно запрограммировать на сложение либо вычитание сигналов.

В приемнике реализована **автоматическая регулировка усиления \(АРУ\)** для оптимизации отношения сигнал/шум, а также для подавления линейных и интерференционных помех. Отфильтрованный сигнал оцифровывается и обрабатывается цифровым ФМ-демодулятором и демультиплексором. Обработка звука выполняется с учетом качества принимаемого сигнала и состояния принимаемого канала. Два аудио **ЦАП** встроены в микросхему для управления аудиовыходом.

**Показатель уровня принимаемого сигнала**, \(**RSSI\)** - устройство измерения уровня принимаемого сигнала, измерение производится по логарифмической в дБм \(децибел относительно 1 мВт\). Он может быть прочитан из регистров RSSIDB \[7: 0\]. На рисунке 2.3 показана кривая RSSI по сравнению с различными уровнями входного сигнала с антенны. Дополнительно RSSI для поиска доступных радиостанций в автоматическом режиме.

![&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 2.3 &#x2013; &#x417;&#x430;&#x432;&#x438;&#x441;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x44C; &#x443;&#x440;&#x43E;&#x432;&#x43D;&#x44F; RSSI &#x43E;&#x442; &#x443;&#x440;&#x43E;&#x432;&#x43D;&#x44F; &#x43F;&#x440;&#x438;&#x43D;&#x438;&#x43C;&#x430;&#x435;&#x43C;&#x43E;&#x433;&#x43E; &#x441;&#x438;&#x433;&#x43D;&#x430;&#x43B;&#x430; &#x43D;&#x430; &#x447;&#x430;&#x441;&#x442;&#x43E;&#x442;&#x435; 88 &#x41C;&#x413;&#x446;.](../../.gitbook/assets/image%20%2859%29.png)

В режиме приема ФМ сигналов поддерживается стереофоническое шумоподавление \(SNC\), управление пороговым уровнем сигнала \(HCC\) и мягкое отключение звука \(SM\). Стереофоническое шумоподавление достигается путем постепенного объединения левого и правого сигналов в монофонический сигнал по мере ухудшения качества принимаемого сигнала. SNC, HCC и SM контролируются значением соотношения сигнал/шум \(SNR\).

![&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 2.4 &#x2013; &#x417;&#x430;&#x432;&#x438;&#x441;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x44C; &#x443;&#x440;&#x43E;&#x432;&#x43D;&#x44F; &#x432;&#x44B;&#x445;&#x43E;&#x434;&#x43D;&#x43E;&#x433;&#x43E; &#x430;&#x443;&#x434;&#x438;&#x43E; &#x441;&#x438;&#x433;&#x43D;&#x430;&#x43B;&#x430; &#x43E;&#x442; &#x435;&#x433;&#x43E; &#x447;&#x430;&#x441;&#x442;&#x43E;&#x442;&#x44B;.](../../.gitbook/assets/image%20%2854%29.png)





